<!DOCTYPE html>
<html>

<head>
  <meta charset='UTF-8'>
  <link rel="stylesheet" href="stylesheet.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/2.0.1/fabric.min.js"></script>
  <title> Image Masker </title>
  <link rel="icon" href="images/favicon.png">
</head>

<body class="color">
  <button id="night" onclick="toggle()">ðŸŒ™</button>
  <script src="js/night.js"></script>
  <div id="uploader">
    <label class="color" id="uploadlabel" for="imageUpload" style="cursor:pointer;">
      Paste image or click here to upload an image.
    </label>
    <input type="file" id="imageUpload" style="display: none;" onchange="uploadImage(event)">
  </div>
  <div id="mobilePaste">
    <input id="pastedURL" type="url" placeholder="Or paste the image URL here...">
  </div>
  <button class="color" id="displayRounds" type="button" onclick="displaySavedRounds(0)">Saved rounds</button>
  <div id="savedRounds">
    <button class="color" id="left" onclick="displaySavedRounds(1)"> â—€ </button>
    <img id="displayedImage">
    <button class="color" id="right" onclick="displaySavedRounds(2)"> â–¶ </button>
    <br>
    <input class="color" id="displayedTitle" placeholder="Round title" type="text"> <br>
    <input class="color" id="displayedAnswer" placeholder="Round answer" type="text"> <br>
    <button class="color" id="PostReddit2" onclick="postReddit(1)">Submit to /r/PictureGame</button><br>
    <button class="color" id="delete" onclick="deleteImage()">Delete round</button>
  </div>
  <div id="container">
    <div id="masker">
      <fieldset class="color" id="tools">
        <legend>Tools</legend>
        Set Opacity:
        <br>
        <div id="slider">
          <input type="range" min="0" max="100" value="100" id="alpha" oninput="updateOpacity()">
          <span id="sliderValue">100</span>
        </div>
        <div id="zoomSlider">
          Set mask zoom: <br>
          <input type="range" min="0" max="100" value="50" id="zoom" oninput="updateZoomer()">
        </div>
        <div id="brush">
          Brush size and color: <br>
          <input type="range" min="1" max="50" value="10" id="brushSize" oninput="brushSize()">
          <input id="colorSelect" type="color" oninput="colorSelect()">
        </div>
      </fieldset>
      <br>
      <fieldset class="color" id="masks">
        <legend>Masks</legend>
        <br>
        <img width='145' height='145' src='images/1.png' onclick='loadMask(this)' />
        <img width='145' height='145' src='images/2.png' onclick='loadMask(this)' />
        <img width='145' height='145' src='images/3.png' onclick='loadMask(this)' />
        <img width='145' height='145' src='images/4.png' onclick='loadMask(this)' />
        <img width='145' height='145' src='images/5.png' onclick='loadMask(this)' />
        <label for="uploadMask" style="cursor: pointer;">
          <img width='145' height='145' src='images/upload.png' />
        </label>
        <input type="file" id="uploadMask" style="display: none;" onchange="loadMask(event)">
      </fieldset>
    </div>
    <div id="preview">
      <div class="color" id="buttons">
        <input type="button" id="uploadbutton" onclick="upload()" value="Upload to Imgur" style="display: none;" />
        <input type="text" id="uploadedUrl" style="display: none;">
        <button type="button" id="copyToClipboard" onclick="copyUrl()" style="display: none;">Copy</button>
        <button type="button" id="checkForRIS" onclick="checkRIS()" style="display: none;">Check RIS</button>
        <input type="text" id="roundTitle" placeholder="Round Title">
        <input type="text" id="roundAnswer" placeholder="Round Answer">
        <button type="button" id="PostReddit" onclick="postReddit(2)" style="display: none;">Submit to
          /r/PictureGame</button>
        <button type="button" id="Save" onclick="saveImage()" style="display: none;">Save round</button>
      </div>
      <div id="previewImage">
        <img id='imagePreview'>
      </div>
      <div id="canvasDiv">
        <canvas id='canvas'></canvas>
      </div>
    </div>
  </div>
  <!-- You know what? No. This feature isn't worth it, and it's a mess on mobile...
  <fieldset class="color" id="myMasks">
    <legend>My masks</legend>
    <input id="maskURL" class="color" type="text" placeholder="Mask URL (drag it here)">
    <button class="color" type="button" onclick="addMask()">Add mask</button>
    <br id="br">
  </fieldset>-->

  <script src="js/night.js"></script>
  <script src="js/masker.js"></script>
</body>

</html>